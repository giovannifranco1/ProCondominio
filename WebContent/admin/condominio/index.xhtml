<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">
	<ui:define name="head">
		<h:outputStylesheet name="primeflex.css" library="css" />
		<h:outputStylesheet name="index.css" library="css" />
	</ui:define>
	<ui:define name="content">
		<div class="container">
			<div class="content">
				<div class="p-grid">
					<div class="p-col-12">
							<h:form id="form">
								<div class="crud-demo">
									<p:toolbar>
										<p:toolbarGroup>
											<p:commandButton value="add" icon="pi pi-plus"
												action="/faces/admin/condominio/create.xhtml?faces-redirect=true"
												styleClass="ui-button-success" style="margin-right: .5rem">
												<p:resetInput target=":form:manage-product-content" />
											</p:commandButton>
										</p:toolbarGroup>
									</p:toolbar>

									<p:dataTable id="dt-products" widgetVar="dtCondominios"
										var="condominio" value="#{condominioController.listCondominio}" reflow="true"
										styleClass="products-table"
										rowKey="#{condominio.id}" paginator="true" rows="10"
										rowSelectMode="add" paginatorPosition="bottom">

									
										<p:column headerText="Nome">
											<h:outputText value="#{condominio.nome}"/>
										</p:column>
										
										<p:column headerText="Cnpj">
											<h:outputText value="#{condominio.cnpj}"/>
										</p:column>
										
										<p:column headerText="Numero" >
											<h:outputText value="#{condominio.endereco.numero}"/>
										</p:column>
										
										<p:column headerText="Rua" sortBy="#{condominio.endereco.rua}" styleClass="p-text-center">
											<h:outputText value="#{condominio.endereco.rua}"/>
										</p:column>
										
										
										<p:column exportable="false" styleClass="p-text-center">
											<p:commandButton icon="pi pi-pencil"
												actionListener="#{condominioController.edit(condominio)}"
												styleClass="edit-button rounded-button ui-button-success">
											</p:commandButton>
											<p:commandButton 
												styleClass="p-text-center"
												class="ui-button-warning rounded-button"
												icon="pi pi-trash" 
												action="#{condominioController.destroy(condominio)}" process="@this" update="@this @form" >
											</p:commandButton>
										</p:column>

									</p:dataTable>

									<p:dialog header="Product Details" showEffect="fade"
										modal="true" widgetVar="manageProductDialog" responsive="true">
										<p:outputPanel id="manage-product-content" class="ui-fluid">
											<p:outputPanel
												rendered="#{not empty crudView.selectedProduct}">
												<p:graphicImage
													name="images/product/#{crudView.selectedProduct.image}"
													library="demo" styleClass="product-image"
													rendered="#{not empty crudView.selectedProduct.image}" />
												<div class="p-field">
													<p:outputLabel for="name">Name</p:outputLabel>
													<p:inputText id="name"
														value="#{crudView.selectedProduct.name}" required="true" />
												</div>
												<div class="p-field">
													<p:outputLabel for="description">Description</p:outputLabel>
													<p:inputTextarea id="description"
														value="#{crudView.selectedProduct.description}" />
												</div>
												<div class="p-field">
													<p:outputLabel for="category">Category</p:outputLabel>
													<p:selectOneRadio id="category"
														value="#{crudView.selectedProduct.category}"
														layout="responsive" columns="2">
														<f:selectItem itemLabel="Accessories"
															itemValue="Accessories" />
														<f:selectItem itemLabel="Clothing" itemValue="Clothing" />
														<f:selectItem itemLabel="Electronics"
															itemValue="Electronics" />
														<f:selectItem itemLabel="Fitness" itemValue="Fitness" />
													</p:selectOneRadio>
												</div>
												<div class="p-formgrid p-grid">
													<div class="p-field p-col">
														<p:outputLabel for="price">Price</p:outputLabel>
														<p:inputNumber id="price"
															value="#{crudView.selectedProduct.price}" symbol=" USD"
															symbolPosition="s" decimalSeparator="."
															thousandSeparator="," />
													</div>
													<div class="p-field p-col">
														<p:outputLabel for="quantity">Quantity</p:outputLabel>
														<p:spinner id="quantity" min="0"
															value="#{crudView.selectedProduct.quantity}" />
													</div>
												</div>
											</p:outputPanel>
										</p:outputPanel>

										<f:facet name="footer">
											<p:commandButton value="Save" icon="pi pi-check"
												actionListener="#{crudView.saveProduct}"
												update="manage-product-content"
												process="manage-product-content @this" />
											<p:commandButton value="Cancel" icon="pi pi-times"
												onclick="PF('manageProductDialog').hide()"
												class="ui-button-secondary" />
										</f:facet>
									</p:dialog>

									<p:confirmDialog widgetVar="deleteProductDialog"
										showEffect="fade" width="300" message="Delete the product?"
										header="Confirm" severity="warn">
										<p:commandButton value="Yes" icon="pi pi-check"
											actionListener="#{crudView.deleteProduct}" process="@this"
											oncomplete="PF('deleteProductDialog').hide()" />
										<p:commandButton value="No" type="button"
											styleClass="ui-button-secondary" icon="pi pi-times"
											onclick="PF('deleteProductDialog').hide()" />
									</p:confirmDialog>

									<p:confirmDialog global="true" showEffect="fade" width="300">
										<p:commandButton value="Yes" type="button"
											styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
										<p:commandButton value="No" type="button"
											styleClass="ui-confirmdialog-no ui-button-secondary"
											icon="pi pi-times" />
									</p:confirmDialog>
								</div>
							</h:form>
						</div>
					</div>
				</div>
			</div>
	</ui:define>
</ui:composition>